# ============================================================================
# CastorOS GRUB 配置文件 (x86_64)
# ============================================================================

set timeout=3
set default=0

# 图形模式配置 (菜单显示用)
set gfxmode=1024x768x32,800x600x32,auto

insmod all_video
insmod gfxterm
terminal_output gfxterm

# ============================================================================
# 启动菜单项 (使用 multiboot1 以兼容现有内核代码)
# ============================================================================

menuentry "CastorOS x86_64 (Text Mode - Default)" {
    set gfxpayload=text
    multiboot /boot/castor.bin
    boot
}

menuentry "CastorOS x86_64 (1024x768 XGA)" {
    set gfxpayload=1024x768x32
    multiboot /boot/castor.bin
    boot
}

menuentry "CastorOS x86_64 (800x600 SVGA)" {
    set gfxpayload=800x600x32
    multiboot /boot/castor.bin
    boot
}

menuentry "CastorOS x86_64 (Graphics Mode)" {
    set gfxpayload=1024x768x32
    multiboot /boot/castor.bin
    boot
}
